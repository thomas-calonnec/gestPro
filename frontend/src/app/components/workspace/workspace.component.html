
<div class="workspace-header-gradient">
  <h1 class="workspace-title-gradient">{{this.mainService.getWorkspace()}}</h1>
</div>
<h4 style="margin-left: 10px">Your boards</h4>


<div>

  <button mat-flat-button style="text-decoration: none; border-radius: 5px; margin-left: 10px" (click)="createBoardDialog()">
    <i class="fa fa-plus"></i> add board
  </button>

</div>



<div class="containerBoard">
  <div class="board-search-wrapper">
    <input
      type="text"
      placeholder="Search board..."
      [(ngModel)]="searchTerm"
      class="board-search"
    />
  </div>
  <div class="cards-container">
  @for (board of filteredBoard(); track board.id) {

      <div class="card">
        <div class="card-header">
          <h3>{{ board.name }}</h3>
          <span class="status-badge">ðŸŸ¡ En cours</span>
        </div>

        <div class="card-body">
          @if (board.weeksSinceUpdate > 0) {
            <p class="board-meta" style="padding-left: 15px">Updated {{board.weeksSinceUpdate}} {{board.daysSinceUpdate > 1 ? "weeks": "week"}} ago</p>
          }
          @else if (board.daysSinceUpdate > 0){
            <p class="board-meta" style="padding-left: 15px">Updated {{board.daysSinceUpdate}} {{board.daysSinceUpdate > 1 ? "days": "day"}} ago</p>
          } @else if (board.hoursSinceUpdate > 0) {
            <p class="board-meta" style="padding-left: 15px">Updated {{board.hoursSinceUpdate}} {{board.hoursSinceUpdate > 1 ? "hours": "hour"}} ago</p>
          } @else if(board.minutesSinceUpdate > 0){
            <p class="board-meta" style="padding-left: 15px">Updated {{board.minutesSinceUpdate}} {{board.minutesSinceUpdate > 1 ? "minutes": "minute"}} ago</p>
          } @else {
            <p class="board-meta" style="padding-left: 15px">Updated {{board.secondsSinceUpdate}} {{board.minutesSinceUpdate > 1 ? "seconds": "second"}} ago</p>
          }
          <div class="tags">
            <span class="tag">Mobile</span>
            <span class="tag">Client</span>
            <span class="tag">PrioritÃ© haute</span>
          </div>
        </div>

        <div class="card-footer">
          <div class="members">
            ðŸ‘¥ 4 members
          </div>
          <a [routerLink]="'/boards/' + board.id" class="btn-open">Open</a>
        </div>
      </div>

      <!-- Tu peux dupliquer ce bloc <div class="card"> pour crÃ©er d'autres cartes -->



<!--    <div class="card" >-->
<!--      <div [class]="'card-header ' + board.color + '-square'" >-->
<!--        <h3>{{ board.name }}</h3>-->
<!--      </div>-->
<!--      <div class="card-content">-->
<!--        <p>{{ board.description }}</p>-->
<!--      </div>-->
<!--      @if (board.weeksSinceUpdate > 0) {-->
<!--        <p class="board-meta" style="padding-left: 15px">Updated {{board.weeksSinceUpdate}} {{board.daysSinceUpdate > 1 ? "weeks": "week"}} ago</p>-->
<!--      }-->
<!--      @else if (board.daysSinceUpdate > 0){-->
<!--        <p class="board-meta" style="padding-left: 15px">Updated {{board.daysSinceUpdate}} {{board.daysSinceUpdate > 1 ? "days": "day"}} ago</p>-->
<!--      } @else if (board.hoursSinceUpdate > 0) {-->
<!--        <p class="board-meta" style="padding-left: 15px">Updated {{board.hoursSinceUpdate}} {{board.hoursSinceUpdate > 1 ? "hours": "hour"}} ago</p>-->
<!--      } @else if(board.minutesSinceUpdate > 0){-->
<!--        <p class="board-meta" style="padding-left: 15px">Updated {{board.minutesSinceUpdate}} {{board.minutesSinceUpdate > 1 ? "minutes": "minute"}} ago</p>-->
<!--      } @else {-->
<!--        <p class="board-meta" style="padding-left: 15px">Updated {{board.secondsSinceUpdate}} {{board.minutesSinceUpdate > 1 ? "seconds": "second"}} ago</p>-->
<!--      }-->
<!--&lt;!&ndash;      <p class="board-meta" style="padding-left: 15px">&ndash;&gt;-->
<!--&lt;!&ndash;        last updated:  {{ board.lastUpdated | date: 'short' :'fr'}}&ndash;&gt;-->
<!--&lt;!&ndash;      </p>&ndash;&gt;-->
<!--      <div class="card-footer">-->
<!--        <p class="board-meta">-->
<!--          <img src="./cartes.png" width="20" alt="test">  {{ board.cardCount }}-->
<!--        </p>-->

<!--        <a [routerLink]="'/boards/' + board.id" class="read-more">open</a>-->
<!--      </div>-->
<!--    </div>&lt;!&ndash;
    <div class="board-card" [class]="board.color + '-square'">

      <h3 class="board-title">{{ board.name }}</h3>


      <p class="board-description">{{ board.description }}</p>

      <p class="board-meta">
        {{ board.cardCount }} cards
      </p>

      <p class="board-updated">last update : {{ board.lastUpdated | date: 'short' :'fr'}}</p>

      <a [routerLink]="'/boards/' + board.id" class="btn-access">Open</a>
    </div>-->

      <!--  <div class="hover-card" >
          <div class="deleteWorkspace" >
            <button mat-raised-button (click)="openDialog('0ms', '0ms', board)"> <i class="fa-solid fa-trash" style="color: #e74c3c"></i></button>
          </div>
          <h3 class="card-title" routerLink="/boards/{{board.id}}">{{ board.name }}</h3>
        </div>-->



  }
  </div>
  @if (boardCreated) {
    <div>
      <!--
            <form  [formGroup]="myForm" (ngSubmit)="addBoard()" style="background-color: white; border-radius: 12px ;">
              <div class="myInput">
                <p>name</p>
                <input type="text"  class="form-control h-25 opacity-75" style="background-color: whitesmoke;font-weight: bold" formControlName="name" maxlength="512" required="required" aria-label="Small"  placeholder="Enter board name" aria-describedby="inputGroup-sizing-sm">
                <p>description</p>
                <textarea  class="form-control h-25 opacity-75" style="background-color: whitesmoke;font-weight: bold" formControlName="description" maxlength="512"  aria-label="Small"  placeholder="Enter description" aria-describedby="inputGroup-sizing-sm"></textarea>
              </div>
              <button type="submit" class="btn btn-sm" style="margin: 10px; background-color: #579DFF; text-decoration: none;"> Add board </button>
              <button type="submit"  style="background-color: darkgrey; color:white " class="btn btn-light btn-sm" (click)="this.boardCreated = false" ><i class="fa-solid fa-times" ></i></button>
            </form>
      -->

    </div>
  }


</div>
